<div id="designBuildView" class="container">
<div class="row">

  <div id="view_dress_panel" class="col-lg-3 col-lg-offset-1 col-md-3 ">
    <div class="row dress">
      <!--<div draw-design-Pic design="form"></div>-->
      <div draw-design design="form" model=""></div>
    </div>

    <div class="row">

    </div>

  </div>

  <div id="dress_designer_panel" class="col-lg-6 col-lg-offset-1 col-md-8 col-md-offset-">
    <div class="container style">

      <div class="row">
        <!--<div design-breadcrumb></div>-->
        <ul class="breaded" id="options">
          <li ng-repeat="part in range.options[0].parts" ng-class="{active: part.active}">
            <a href="#{{part.part_name}}" data-toggle="tab">{{part.label}}</a>
          </li>
          <li ng-repeat="part in range.extras[0].parts"><a href="#{{part.part_name}}-extra" data-toggle="tab">{{part.label}}</a>
          </li>
        </ul>

        <!-- Start of inner pannel --->
        <div class="option-panel">

          <div class="tab-content">
            <div ng-repeat="part in range.options[0].parts" class="tab-pane" ng-class="{active: part.active}"
                 id="{{part.part_name}}">
              <div class="row">
                <div class="col-xs-6">
                  <part-selector part="part" selected-option="form[range.options[0].option_name][part.part_name]"/>
                </div>
                <div class="col-xs-6">
                  <fabric-selector ng-repeat="set in fabricSets | filterSets:part.fabricSets" fabric-set="set"
                                   selected-option="form[range.options[0].option_name][part.part_name]"/>
                </div>
              </div>
              <div class="row trim-selector" ng-show="part.size">
                <div class="col-xs-7">
                  Length:
                </div>
                <div class="col-xs-4">
                  <size-selector part="part" selected-option="form[range.options[0].option_name][part.part_name]"/>
                </div>
              </div>
              <div class="row trim-selector" ng-show="part.trim">
                <trim-selector ng-repeat="set in fabricSets | filterSets:part.trimFabricSets"
                               ng-checked="form[range.options[0].option_name][part.part_name]['trim']"
                               fabric-set="set" selected-option="form[range.options[0].option_name][part.part_name]"
                               is-trim="true" part-name="part.part_name"/>
              </div>
            </div>


            <div ng-repeat="part in range.extras[0].parts" class="tab-pane"
                 id="{{part.part_name}}-extra">

              <div class="row  middle-container" ng-repeat="value in part.values">
                <div class="col-xs-3">

                  <div data-toggle="buttons">
                    <!--https://github.com/angular-ui/bootstrap/issues/233-->
                    <div class="option-button">
                      <button type="button" class="btn btn-default option"
                              ng-model="form[range.extras[0].name][part.part_name]['id']" btn-radio="value.id"
                              ng-click="form[range.extras[0].name][part.part_name]['fabric'] = value.defaultFabric; form[range.extras[0].name][part.part_name]['code']=value.id + '-' +value.defaultFabric"
                              ng-class="{highlight: form[range.extras[0].name][part.part_name]['id']==value.id }">
                        <div class="db-icons-sprite {{part.type}}-{{value.id}}" tooltip="{{value.name}}"></div>
                      </button>
                    </div>
                  </div>
                </div>

                <div class="col-xs-3" style="vertical-align: middle">
                  <div>
                    <div class="fabric-group middle-inner">
                      <div class="row extras-fabric-header">
                        None
                      </div>
                      <div class="row">

                        <button type="button"
                                class="btn fabric-selector fabric000"

                                ng-click="form[range.extras[0].name][part.part_name]['fabric'] = 000; form[range.extras[0].name][part.part_name]['id'] = value.id"
                                ng-model="form[range.extras[0].name][part.part_name]['code']"
                                btn-radio="value.id +'-'+000"
                                ng-class="{active: form[range.extras[0].name][part.part_name]['code']==value.id +'-'+000 }"
                                tooltip="None"
                                onClick="_gaq.push(['_trackEvent', 'Design Build', 'select fabric', '{{form[range.extras[0].name][part.part_name].type}}-{{form[range.extras[0].name][part.part_name].id}}', '000' ]);">
                        </button>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-xs-6" style="vertical-align: middle">
                  <div ng-repeat="set in fabricSets | filterSets:value.fabricSets">
                    <div class="fabric-group middle-inner">
                      <div class="row extras-fabric-header">
                        {{set.setName}}
                      </div>
                      <div class="row">

                        <button ng-repeat="fabric in set.fabrics" type="button"
                                class="btn fabric-selector fabric{{fabric.fabId}}"

                                ng-click="form[range.extras[0].name][part.part_name]['fabric'] = fabric.fabId; form[range.extras[0].name][part.part_name]['id'] = value.id"
                                ng-model="form[range.extras[0].name][part.part_name]['code']"
                                btn-radio="value.id +'-'+fabric.fabId"
                                ng-class="{active: form[range.extras[0].name][part.part_name]['code']==value.id +'-'+fabric.fabId }"
                                tooltip="{{fabric.fabName}}"
                                onClick="_gaq.push(['_trackEvent', 'Design Build', 'select fabric', '{{form[range.extras[0].name][part.part_name].type}}-{{form[range.extras[0].name][part.part_name].id}}', '{{fabric.fabId}}' ]);">
                        </button>
                      </div>
                    </div>
                  </div>
                </div>

              </div>

            </div>

          </div>


            <!--<form action="https://aurza.foxycart.com/cart" method="post">-->
            <!--&lt;!&ndash; https://wiki.foxycart.com/v/1.1/products &ndash;&gt;-->
            <!--<input type="hidden" name="name" value="{{style.styleName}} ({{style.styleFormalName}})" />-->
            <!--<input type="hidden" name="price" value="5.00" />-->
            <!--&lt;!&ndash;<input type="hidden" name="image" value="images/dresses/eveningsheath.png" />&ndash;&gt;-->
            <!--<input type="hidden" name="image" value="images/silhouettes/{{style.silhouetteImage}}.png" />-->
            <!--&lt;!&ndash;<input type="hidden" name="image" value="images/silhouettes/pat-304-body.png" />&ndash;&gt;-->
            <!--<input type="hidden" name="url" value="#!/collection" />-->
            <!--<input type="hidden" name="code" value="{{style.styleName}}" />-->
            <!--<input type="hidden" name="quantity" value="1" />-->
            <!--<input type="hidden" name="category" value="dress" />-->
            <!--&lt;!&ndash; Custom Product Options &ndash;&gt;-->
            <!--<input type="hidden" name="neckline"-->
                   <!--value="{{form.design.neckline.type}}-{{form.design.neckline.id}}-{{form.design.neckline.size}}-{{form.design.neckline.fabric}}" />-->
            <!--<input type="hidden" name="sleeves"-->
                   <!--value="{{form.design.sleeves.type}}-{{form.design.sleeves.id}}-{{form.design.sleeves.size}}-{{form.design.sleeves.fabric}}" />-->
            <!--<input type="hidden" name="skirt"-->
                   <!--value="{{form.design.skirt.type}}-{{form.design.skirt.id}}-{{form.design.skirt.size}}-{{form.design.skirt.fabric}}" />-->

            <!--<input type="submit" value="Buy It Now!" />-->
        <!--</form>-->


            <!--<form action="https://aurza.foxycart.com/cart" method="post" accept-charset="utf-8" >-->
                <!--&lt;!&ndash; https://wiki.foxycart.com/v/1.1/products &ndash;&gt;-->
                <!--<input type="hidden" name="name" value="Coco (Sheath Dress)" />-->
                <!--<input type="hidden" name="price" value="2000" />-->
                <!--<input type="hidden" name="image" value="images/silhouettes/pat-304-body.png.png" />-->
                <!--<input type="hidden" name="url" value="#!/collection" />-->
                <!--<input type="hidden" name="code" value="pat-304" />-->
                <!--<input type="hidden" name="quantity" value="--OPEN--" />-->
                <!--<input type="hidden" name="category" value="dress" />-->
                <!--&lt;!&ndash; Custom Product Options &ndash;&gt;-->
                <!--<input type="hidden" name="neckline" value="--OPEN--" />-->
                <!--<input type="hidden" name="sleeves" value="--OPEN--" />-->
                <!--<input type="hidden" name="skirt" value="--OPEN--" />-->

                <!--<input type="submit" value="Buy It Now!" />-->
            <!--</form>-->

            <!--<form action="https://aurza.foxycart.com/cart" method="post" accept-charset="utf-8" >-->
                <!--&lt;!&ndash; https://wiki.foxycart.com/v/1.1/products &ndash;&gt;-->
                <!--<input type="hidden" name="name||bb4a2f18ce3a725901b0795a31726b71a3f2c97ca8a61ceab69d8af2602def74" value="Coco (Sheath Dress)" />-->
                <!--<input type="hidden" name="price||68ec587d2ae70f896cb131da80d6aa6bc2c5b5bc4e036d54b10e687c54dd8306" value="2000" />-->
                <!--<input type="hidden" name="image||6d7d4a9f0ac8ba0d0e9ff037ffc0722ac0ac26f56678afb22232b72a4b257a0a" value="images/silhouettes/pat-304-body.png.png" />-->
                <!--<input type="hidden" name="url||0cbd34fd1e114615742cea5c0f414dfed4b1153f2f4f05d10c2961fb4df7851d" value="#!/collection" />-->
                <!--<input type="hidden" name="code||463627702679397ec340310e5b9d10c13ab2101fe0072b4fe8ff9782303595f2" value="pat-304" />-->
                <!--<input type="hidden" name="quantity||efbf6c42e1cc2e3bcfb1ead270f4f9d76581a26b83e70dc96481c688429525d8||open" value="1" />-->
                <!--<input type="hidden" name="category||257179f9b9135f2f26e6b261ffd0ea3a07361e0a24390eaf4730d7e31f145a78" value="dress" />-->
                <!--&lt;!&ndash; Custom Product Options &ndash;&gt;-->
                <!--<input type="hidden" name="neckline||da1e463b7d94a5acb4b891220d19c18e647106e233e67c54533bd9cceef31146||open" value="nek-003-00-014" />-->
                <!--<input type="hidden" name="sleeves||9fb6f603ab7eccd149b94846e43def05282cf85e6a3fefc15f1fecc7b7001f5f||open" value="slv-006-00-014" />-->
                <!--<input type="hidden" name="skirt||a93618ce787e9245e398bcd13d103b8f446c20aec8aadbe494ffc1891caa8128||open" value="skt-007-02-014" />-->

                <!--<input type="submit" value="Buy It Now!" />-->
            <!--</form>-->

          <!--<form action="https://aurza.foxycart.com/cart" method="post" accept-charset="utf-8" >-->
              <!--&lt;!&ndash; https://wiki.foxycart.com/v/1.1/products &ndash;&gt;-->
              <!--<input type="hidden" name="category" value="dress"/>-->
              <!--<input type="hidden" name="code" value="sheath" />-->
              <!--<input type="hidden" name="name" value="Coco (Sheath Dress)" />-->
              <!--<input type="hidden" name="price" value="2000" />-->
              <!--<input type="hidden" name="image" value="--OPEN--" />-->
              <!--<input type="hidden" name="url" value="--OPEN--" />-->
              <!--&lt;!&ndash; Custom Product Options &ndash;&gt;-->
              <!--<input type="hidden" name="neckline" value="--OPEN--" />-->
              <!--<input type="hidden" name="sleeves" value="--OPEN--" />-->
              <!--<input type="hidden" name="skirt" value="--OPEN--" />-->
              <!--<input type="hidden" name="peplum" value="--OPEN--" />-->
              <!--<input type="hidden" name="rosetta" value="--OPEN--" />-->
              <!--<input type="hidden" name="belt" value="--OPEN--" />-->
              <!--<input type="submit" value="Buy It Now!" />-->
          <!--</form>-->

          <!--<form action="https://aurza.foxycart.com/cart" method="post" accept-charset="utf-8" >-->
              <!--&lt;!&ndash; https://wiki.foxycart.com/v/1.1/products &ndash;&gt;-->
              <!--<input type="hidden" name="category||f0413cfa2afa3244e16b1d1893e138c9669316c8a3597fb9c34b6ab99826ab54" value="dress"/>-->
              <!--<input type="hidden" name="code||2a36651dbfd988e00f18a02e5cbdee7dd867168bb305909c496517204d25ae31" value="sheath" />-->
              <!--<input type="hidden" name="name||1ed77a1b465d0eaddf3698675b57a2dc8e68696dfe4cf49c551c0d996627c68d" value="Coco (Sheath Dress)" />-->
              <!--<input type="hidden" name="price||4532e694c6ddc3eee9c7e0ee4acc44f217e18c0ff770697b3bd8e3ec63245fc8" value="2000" />-->
              <!--<input type="hidden" name="image||df0c77da9365f3d26c8a2d802c694dfb8eeb89cd5425e9b7e72e1fbf4ea3aeb8||open" value="--OPEN--" />-->
              <!--<input type="hidden" name="url||2ab1d7cf48d9afe991ac5769fbb34300fd3280c48e55055251d58f8a24921f8d||open" value="--OPEN--" />-->
              <!--&lt;!&ndash; Custom Product Options &ndash;&gt;-->
              <!--<input type="hidden" name="neckline||df5b3e809f1583f528a7b49cc219475db6da209ddbe94767b39f705ef9f4d4b1||open" value="--OPEN--" />-->
              <!--<input type="hidden" name="sleeves||0a23da813c947351c1edca32042b6d495e21f6f96f35fd907b91480ed64770a9||open" value="--OPEN--" />-->
              <!--<input type="hidden" name="skirt||15dc71987ad145e53fe8364dc4a6b55f079d3e99f8212abcf5c44a4ed2f977f4||open" value="--OPEN--" />-->
              <!--<input type="hidden" name="peplum||bc1407ab12dd24e1862c177e9424492dd11fdf11cd0f50a29359992de726f4ab||open" value="--OPEN--" />-->
              <!--<input type="hidden" name="rosetta||fb4acd6b327a36b8340ee8b97d25231d441ba0602c703de4f93ed620dd0414eb||open" value="--OPEN--" />-->
              <!--<input type="hidden" name="belt||34062ce199df92f8e205c6b1aaef4c7b7e399b92f185cf1466d89e225928a8ac||open" value="--OPEN--" />-->
              <!--<input type="submit" value="Buy It Now!" />-->
          <!--</form>-->

          <form action="https://aurza.foxycart.com/cart" method="post" accept-charset="utf-8" >
              <!-- https://wiki.foxycart.com/v/1.1/products -->
              <input type="hidden" name="{{style.fc_category}}" value="{{style.type}}"/>
              <input type="hidden" name="{{style.fc_code}}" value="{{style.styleId}}" />
              <input type="hidden" name="{{style.fc_name}}" value="{{style.styleName}} ({{style.styleFormalName}})" />
              <input type="hidden" name="{{style.fc_price}}" value="{{style.price}}" />
              <input type="hidden" name="{{style.fc_image}}" value="images/silhouettes/{{style.foxyImage}}.png" />
              <input type="hidden" name="{{style.fc_url}}" value="#!/review/{{style.styleId}}/{{param(form)}}" />
              <!-- Custom Product Options -->
              <input type="hidden" name="{{style.fc_neckline}}" value="{{form.design.neckline.type}}-{{form.design.neckline.id}}-{{form.design.neckline.size}}-{{form.design.neckline.fabric}}" />
              <input type="hidden" name="{{style.fc_sleeves}}" value="{{form.design.sleeves.type}}-{{form.design.sleeves.id}}-{{form.design.sleeves.size}}-{{form.design.sleeves.fabric}}" />
              <input type="hidden" name="{{style.fc_skirt}}" value="{{form.design.skirt.type}}-{{form.design.skirt.id}}-{{form.design.skirt.size}}-{{form.design.skirt.fabric}}" />
              <input type="hidden" name="{{style.fc_peplum}}" value="{{form.extras.peplum.type}}-{{form.extras.peplum.id}}-{{form.extras.peplum.size}}-{{form.extras.peplum.fabric}}" />
              <input type="hidden" name="{{style.fc_rosetta}}" value="{{form.extras.rosetta.type}}-{{form.extras.rosetta.id}}-{{form.extras.rosetta.size}}-{{form.extras.rosetta.fabric}}" />
              <input type="hidden" name="{{style.fc_belt}}" value="{{form.extras.belt.type}}-{{form.extras.belt.id}}-{{form.extras.belt.size}}-{{form.extras.belt.fabric}}" />
              <input type="submit" value="Buy It Now!" />
          </form>



          <!--<div style="vertical-align:middle; text-align: left; font-family: 'Nothing You Could Do', cursive;font-size: 30px;">-->
            <!--share your design:-->
          <!--</div>-->
          <!--<div ng-controller="MetaCtrlInput" class="row align-left">-->
            <!--<ul ng-social-buttons style="margin-top:10px"-->
                <!--data-url="$location.absUrl()"-->
                <!--data-title="data.og_title"-->
                <!--data-description="'current_desc'"-->
                <!--data-image="data.og_image">-->
              <!--<li style="vertical-align:middle; text-align: left; font-family: 'Nothing You Could Do', cursive;font-size: 24px;">-->
                <!--share your design:-->
              <!--</li>-->
              <!--<li class="ng-social-facebook">Facebook</li>-->
              <!--&lt;!&ndash;<li class="ng-social-google-plus" data-proxy-url="'/proxy.php'">Google+</li>&ndash;&gt;-->
              <!--&lt;!&ndash;<li class="ng-social-twitter">Twitter</li>&ndash;&gt;-->
              <!--&lt;!&ndash;<li class="ng-social-vk">Вконтакте</li>&ndash;&gt;-->
              <!--&lt;!&ndash;<li class="ng-social-odnoklassniki">Одноклассники</li>&ndash;&gt;-->
              <!--&lt;!&ndash;<li class="ng-social-mailru">Мой мир</li>&ndash;&gt;-->
              <!--&lt;!&ndash;<li class="ng-social-pinterest">Pinterest</li>&ndash;&gt;-->
              <!--&lt;!&ndash;<li class="ng-social-github" user="esvit" repository="ng-table">GitHub</li>&ndash;&gt;-->
              <!--&lt;!&ndash;<li class="ng-social-github-forks" user="esvit" repository="ng-table">Forks</li>&ndash;&gt;-->
              <!--&lt;!&ndash;<li class="ng-social-stumbleupon">StumbleUpon</li>&ndash;&gt;-->
            <!--</ul>-->
          <!--</div>-->
        </div>

        <!--<div class="row">-->
          <!--<div class="col-sm-4 align-left">-->
            <!--<a class="btn btn-default igg-design-buttons" id="reset-design" ng-click="cancel()"-->
               <!--ng-disabled="isCancelDisabled()"-->
               <!--onClick="_gaq.push(['_trackEvent', 'Design Build', 'reset-design', '{{dress.silId}}/{{dress.itemId}}']);">-->
              <!--Reset design</a>-->
          <!--</div>-->

          <!--&lt;!&ndash;<div class="col-sm-4 col-md-offset- align-left" style="margin-bottom:50px">&ndash;&gt;-->
          <!--&lt;!&ndash;<a class="btn btn-danger design-buttons" href="#/purchase"&ndash;&gt;-->
          <!--&lt;!&ndash;onClick="_gaq.push(['_trackEvent', 'Design Build', 'buy-sml-btn', '{{dress.silId}}/{{dress.itemId}}']);">&ndash;&gt;-->
          <!--&lt;!&ndash;Change silhouette</a>&ndash;&gt;-->
          <!--&lt;!&ndash;</div>&ndash;&gt;-->

          <!--<div class="col-sm-4 col-md-offset-4 align-right">-->
            <!--&lt;!&ndash;<a class="btn btn-default igg-design-buttons"&ndash;&gt;-->
               <!--&lt;!&ndash;href="https://www.facebook.com/dialog/feed?picture=http://img.aurza.com/skt-001-02-013-slv-009-00-013-nek-001-00-003-blt-002-00-000-ext-002-00-000-ext-003-00-000.png&description=For more details on this dress...&app_id=153275411536544&redirect_uri=http://indiegogo-prototype-designer.aurza.com/#!/design/sheath&link=http://indiegogo-prototype-designer.aurza.com/#!/design/sheath&name=Check+out+the+dress+I+designed+-+what+do+you+think%3F"&ndash;&gt;-->
               <!--&lt;!&ndash;onClick="_gaq.push(['_trackEvent', 'Design Build', 'buy-sml-btn', '{{dress.silId}}/{{dress.itemId}}']);">&ndash;&gt;-->
              <!--&lt;!&ndash;Facebook</a>&ndash;&gt;-->
            <!--<div facebook design="form"></div>-->
          <!--</div>-->


        <!--</div>-->
        <!--<div class="row align-center">-->
          <!--&lt;!&ndash;<div class="col-sm-12 align-center" style="margin-bottom:50px">&ndash;&gt;-->
            <!--&lt;!&ndash;<a class="btn btn-danger" href="#/purchase"&ndash;&gt;-->
               <!--&lt;!&ndash;style="font-family: 'Nothing You Could Do', cursive;font-size: 30px;"&ndash;&gt;-->
               <!--&lt;!&ndash;onClick="_gaq.push(['_trackEvent', 'Design Build', 'buy-sml-btn', '{{dress.silId}}/{{dress.itemId}}']);">&ndash;&gt;-->
              <!--&lt;!&ndash;back to indiegogo</a>&ndash;&gt;-->
          <!--&lt;!&ndash;</div>&ndash;&gt;-->
          <!--<div facebook design="form"></div>-->
        <!--</div>-->

      </div>

    </div>
  </div>
</div>

<!--<p>{{param(form)}}</p>-->
<!--<pre>form={{form}}</pre>-->
<!--<div design-link design="param(form)" sil="style"/>-->

<div class="row">
  <div class="col-md-5 col-sm-3 align-center" style="margin-bottom:10px">
      <a class="btn btn-default design-buttons" id="reset-design" ng-click="cancel()" ng-disabled="isCancelDisabled()"
         style="font-family: 'Nothing You Could Do', cursive;font-size: 20px;"
         onClick="_gaq.push(['_trackEvent', 'Design Build', 'reset-design', '{{dress.silId}}/{{dress.itemId}}']);">
        Reset design</a>
  </div>
  <div class="col-md-3 col-sm-5 align-center" style="margin-bottom:10px">
    <a class="btn btn-default  igg-design-buttons" href="#!/"
       style="font-family: 'Nothing You Could Do', cursive;font-size: 20px;"
       onClick="_gaq.push(['_trackEvent', 'Design Build', 'buy-sml-btn', 'design-build/different-style']);">
      try a different style</a>
  </div>
  <div class="col-sm-4 align-center" style="margin-bottom:10px">
    <!--<a class="btn btn-danger igg-design-buttons" href="#!/review/{{style.styleId}}/{$.param(design)}'"-->
       <!--style="font-family: 'Nothing You Could Do', cursive;font-size: 20px;"-->
       <!--onClick="_gaq.push(['_trackEvent', 'Design Build', 'buy-sml-btn', 'design-build/send']);">-->
      <!--Send us your design</a>-->
    <div review-link design="param(form)" sil="style"/>
  </div>
</div>

<div class="row" id="debug_view">

  <div class="col-md-4 align-left">
    <a class="btn btn-mini" ng-click="isDebugCollapsed = !isDebugCollapsed">Toggle debug view</a>
  </div>
  <div class="col-md-4 align-center">
  </div>
  <div class="col-md-4 align-right">
    <a class="btn btn-mini" href="#!/designAdmin/{{style.styleId}}">Toggle admin view</a>
  </div>
  <hr>
  <div ng-show="!isDebugCollapsed">
    <p>{{param(form)}}</p>
    <pre>form={{form}}</pre>
    <pre>fabricSets={{fabricSets}}</pre>
    <pre>trimFabricSets={{trimFabricSets}}</pre>
    <pre>dressFabricSets={{dressFabricSets}}</pre>


    <pre>master={{master}}</pre>
    <pre>category={{category}}</pre>
    <pre>style={{style}}</pre>
    <pre>range={{range}}</pre>
  </div>
</div>
</div>
<!-- /designBuildView -->