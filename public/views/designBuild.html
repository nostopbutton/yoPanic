<div id="designBuildView" class="container">
    <div class="container-fluid">
        <div class="row-fluid">
            <div class="span5">
                <div class="container-fluid">
                    <div class="row-fluid">
                        <div class="dress">
                            <div class=" pic body db-parts-sprite model-front"></div>
                            <div draw-dress dress="form"></div>
                         </div>
                    </div>
                    <div class="row-fluid purchase big-buy-button">
                        <button  class="btn" form="selection_form" ng-click="cancel()" ng-disabled="isCancelDisabled()" onClick="_gaq.push(['_trackEvent', 'Design Build', 'cancel']);">Reset</button><!--<a class="btn" data-toggle="modal" href="#resetModal">Reset</a>-->
                        <!--<a class="btn" id="reset-button" data-toggle="modal" href="#purchase" onClick="_gaq.push(['_trackEvent', 'Design Build', 'buy', '{{dress.silId}}/{{dress.itemId}}']);">Reset design</a>-->
                        <a class="btn  btn-info" id="big-buy-button" data-toggle="modal" href="#purchase" onClick="_gaq.push(['_trackEvent', 'Design Build', 'buy', '{{dress.silId}}/{{dress.itemId}}']);">Buy Now</a>
                    </div>
                </div>
            </div>
            <div class="span7">
                <div class="container-fluid">
                    <div class="row-fluid">
                        <div class="span4">
                            {{design.longName}}
                        </div>
                        <div class="span4 builder price">
                            <b>HKD {{design.price}}</b>
                        </div>
                        <div class="span4 builder button">
                             <a class="btn btn-mini btn-info" id="buy-button" data-toggle="modal" href="#purchase" onClick="_gaq.push(['_trackEvent', 'Design Build', 'buy', '{{dress.silId}}/{{dress.itemId}}']);">Buy Now</a>
                        </div>
                    </div>
                    <div class="row-fluid  top-border">
                        <div class="span12">
                            <p class=" "><i>{{range.strapline}}</i></p>
                        </div>
                    </div>
                    <div class="row-fluid">
                        <span ng-repeat="para in range.description"><p>{{para}}</p></span>
                    </div>
                    <div class="row-fluid">
                        <tabs class="tabbable">
                            <pane heading="customize">
                                <tabs class="tabbable tabs-left">
                                    <pane class=""ng-repeat="option in range.options" heading="{{option.label}}" active="pane.active=option.active">
                                        <div class="row-fluid span12">
                                            <!--<br>-->
                                            <div class="" name="option_choice" data-toggle="buttons-checkbox">
                                                <!--https://github.com/angular-ui/bootstrap/issues/233-->
                                                <button ng-repeat="value in option.values" type="button" class="btn builder options" ng-model="form[option.part_name]['id']" btn-radio="value.id">
                                                    <div class="db-icons-sprite {{option.type}}-{{value.id}}">.</div>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="row-fluid span11">
                                            <p>fabric</p>
                                            <div class="top-border" name="option_fabric_choice" data-toggle="buttons-checkbox">
                                                <!--<div fabric-panel selected-option="form[option.opt_name]"></div>-->
                                                <div fabrics selection="range.fabrics" selected-option="form[option.part_name]"></div>
                                                <div>
                                                    fabric description goes here, lorem blah blah..
                                                </div>
                                            </div>
                                        </div>
                                    </pane>
                                </tabs>
                            </pane> <!-- /style and colour-->
                            <pane heading="trim">
                                <tabs class="tabbable tabs-left">
                                    <!--<pane heading="Static title">Static content</pane>-->
                                    <!--<pane class=""ng-repeat="option in range.options" heading="{{option.opt_label}}" active="pane.active=option.active">-->

                                    <!--<div class="row span5">-->
                                    <!--<p>trim</p>-->

                                    <!--<div class="top-border" name="option_trim_choice" data-toggle="buttons-checkbox">-->
                                    <!--<div trim-panel selected-option="form[option.opt_name]"></div>-->
                                    <!--<div>-->
                                    <!--trim description goes here, lorem blah blah..-->
                                    <!--</div>-->
                                    <!--</div>-->
                                    <!--</div>-->
                                    <!--<div class="row span5">-->
                                    <!--<p>trim fabric</p>-->
                                    <!--<div class="top-border" name="option_trim_fabric_choice" data-toggle="buttons-checkbox">-->
                                    <!--<div fabric-trim-panel selected-option="form[option.opt_name]"></div>-->
                                    <!--<div>-->
                                    <!--fabric description goes here, lorem blah blah..-->
                                    <!--</div>-->
                                    <!--</div>-->
                                    <!--</div>-->
                                    <!--</pane>-->
                                </tabs>
                            </pane>

                            <pane heading="size selector">
                            </pane>
                            <!--<pane heading="review my design">-->
                            <!--Details of your personal {{design.longName}} design:-->
                            <!--<ul>-->
                            <!--<li ng-repeat="item in form">{{item.type|labelLookup}} in {{item.fabric|labelLookup}} fabric</li>-->
                            <!--</ul>-->
                            <!--</pane>-->
                        </tabs>

                    </div>
                </div>
            </div>
        </div>
    <!--<div class="row">-->
        <!--<div class="span5 offset5">-->
            <!--{{design.longName}}-->
            <!--&lt;!&ndash;<select ng-model='designId' ng-select="loadDesign()">&ndash;&gt;-->
                <!--&lt;!&ndash;<option value='choose...'>Choose...</option>&ndash;&gt;-->
                <!--&lt;!&ndash;<optgroup ng-repeat='category in ranges' label="{{category.catId}}">&ndash;&gt;-->
                    <!--&lt;!&ndash;<option ng-repeat='design in category.designs'>{{design.desId}}</option>&ndash;&gt;-->
                <!--&lt;!&ndash;</optgroup>&ndash;&gt;-->
            <!--&lt;!&ndash;</select>&ndash;&gt;-->

            <!--&lt;!&ndash;<select ng-model="designId" ng-options="category.designs.desId group by category.catName for category in ranges">&ndash;&gt;-->
            <!--&lt;!&ndash;<select ng-repeat="category in ranges">&ndash;&gt;-->
                <!--&lt;!&ndash;&lt;!&ndash;<span ng-repeat="category in ranges">&ndash;&gt;&ndash;&gt;-->
                    <!--&lt;!&ndash;<option value = "category.catId">&ndash;&gt;-->
                        <!--&lt;!&ndash;{{category.catName}}&ndash;&gt;-->
                    <!--&lt;!&ndash;</option>&ndash;&gt;-->
                    <!--&lt;!&ndash;&lt;!&ndash;<option ng-repeat="design in category.designs" value = "{{design.longName}}">&ndash;&gt;&ndash;&gt;-->
                        <!--&lt;!&ndash;-- {{design.desName}}&ndash;&gt;-->
                    <!--&lt;!&ndash;</option>&ndash;&gt;-->
                <!--&lt;!&ndash;</span>&ndash;&gt;-->
            <!--&lt;!&ndash;</select>&ndash;&gt;-->
        <!--</div>-->
        <!--<div class="span2 pull-right builder price">-->
            <!--<b>HKD {{design.price}}</b>-->
        <!--</div>-->
    <!--</div>-->
    <!--<div class="row">-->
        <!--&lt;!&ndash;<div class="span4   offset1">&ndash;&gt;-->
            <!--&lt;!&ndash;<div class="dress">&ndash;&gt;-->
                <!--&lt;!&ndash;<row>&ndash;&gt;-->
                    <!--&lt;!&ndash;<div class=" pic body db-parts-sprite model-front"></div>&ndash;&gt;-->
                    <!--&lt;!&ndash;<div draw-dress dress="form"></div>&ndash;&gt;-->
                <!--&lt;!&ndash;</row>&ndash;&gt;-->
            <!--&lt;!&ndash;</div>&ndash;&gt;-->
        <!--&lt;!&ndash;</div>&ndash;&gt;-->
        <!--<div class="span6  top-border">-->
            <!--<p class="handwriting "><i>{{range.strapline}}</i></p>-->


        <!--</div>-->
        <!--<div class="span1">-->
            <!--<a class="btn btn-mini btn-info" id="buy-button" data-toggle="modal" href="#purchase" onClick="_gaq.push(['_trackEvent', 'Design Build', 'buy', '{{dress.silId}}/{{dress.itemId}}']);">Buy Now</a>-->
        <!--</div>-->
        <!--<div class="row">-->
            <!--<span ng-repeat="para in range.description"><p>{{para}}</p></span>-->
        <!--</div>-->
    <!--&lt;!&ndash;</div>&ndash;&gt;-->
    <!--&lt;!&ndash;<div class="row">&ndash;&gt;-->
        <!--&lt;!&ndash;<div class="span3">&ndash;&gt;-->
            <!--&lt;!&ndash;<div class="dress">&ndash;&gt;-->
                <!--&lt;!&ndash;<div class="pic body db-parts-sprite model-front"></div>&ndash;&gt;-->

                <!--&lt;!&ndash;<div class="pic skirt db-parts-sprite {{form.skirt.type}}-{{form.skirt.fabric}}"></div>&ndash;&gt;-->

                <!--&lt;!&ndash;<div class="pic neckline db-parts-sprite {{form.neckline.type}}-{{form.neckline.fabric}}"></div>&ndash;&gt;-->

                <!--&lt;!&ndash;<div class="pic trim db-parts-sprite {{form.trim.type}}-{{form.trim.fabric}}"></div>&ndash;&gt;-->

                <!--&lt;!&ndash;<div class="pic  extras db-parts-sprite {{form.extras.type}}-{{form.extras.fabric}}"></div>&ndash;&gt;-->
            <!--&lt;!&ndash;</div>&ndash;&gt;-->
        <!--&lt;!&ndash;</div>&ndash;&gt;-->

        <!--<div class="span7">-->

            <!--<tabs class="tabbable">-->

                <!--&lt;!&ndash;<pane heading="description">&ndash;&gt;-->
                    <!--&lt;!&ndash;<div class="span7">&ndash;&gt;-->
                        <!--&lt;!&ndash;<span ng-repeat="para in range.description"><p>{{para}}</p></span>&ndash;&gt;-->
                    <!--&lt;!&ndash;</div>&ndash;&gt;-->
                <!--&lt;!&ndash;</pane>&ndash;&gt;-->
                <!--<pane heading="customize">-->
                    <!--<tabs class="tabbable tabs-left">-->
                        <!--&lt;!&ndash;<pane heading="Static title">Static content</pane>&ndash;&gt;-->
                        <!--<pane class=""ng-repeat="option in range.options" heading="{{option.label}}" active="pane.active=option.active">-->
                            <!--<div class="row span5">-->
                                <!--&lt;!&ndash;<br>&ndash;&gt;-->
                                <!--<div class="" name="option_choice" data-toggle="buttons-checkbox">-->
                                    <!--&lt;!&ndash;https://github.com/angular-ui/bootstrap/issues/233&ndash;&gt;-->
                                    <!--<button ng-repeat="value in option.values" type="button" class="btn builder options" ng-model="form[option.part_name]['id']" btn-radio="value.id">-->
                                        <!--<div class="db-icons-sprite {{option.type}}-{{value.id}}"></div>-->
                                    <!--</button>-->
                                <!--</div>-->
                            <!--</div>-->
                            <!--<div class="row span5">-->
                                <!--<p>fabric</p>-->
                                <!--<div class="top-border" name="option_fabric_choice" data-toggle="buttons-checkbox">-->
                                    <!--&lt;!&ndash;<div fabric-panel selected-option="form[option.opt_name]"></div>&ndash;&gt;-->
                                    <!--<div fabrics selection="range.fabrics" selected-option="form[option.part_name]"></div>-->
                                    <!--<div>-->
                                        <!--fabric description goes here, lorem blah blah..-->
                                    <!--</div>-->
                                <!--</div>-->
                            <!--</div>-->
                        <!--</pane>-->
                    <!--</tabs>-->
                <!--</pane> &lt;!&ndash; /style and colour&ndash;&gt;-->
                <!--<pane heading="trim">-->
                    <!--<tabs class="tabbable tabs-left">-->
                        <!--&lt;!&ndash;<pane heading="Static title">Static content</pane>&ndash;&gt;-->
                        <!--&lt;!&ndash;<pane class=""ng-repeat="option in range.options" heading="{{option.opt_label}}" active="pane.active=option.active">&ndash;&gt;-->

                            <!--&lt;!&ndash;<div class="row span5">&ndash;&gt;-->
                                <!--&lt;!&ndash;<p>trim</p>&ndash;&gt;-->

                                <!--&lt;!&ndash;<div class="top-border" name="option_trim_choice" data-toggle="buttons-checkbox">&ndash;&gt;-->
                                    <!--&lt;!&ndash;<div trim-panel selected-option="form[option.opt_name]"></div>&ndash;&gt;-->
                                    <!--&lt;!&ndash;<div>&ndash;&gt;-->
                                        <!--&lt;!&ndash;trim description goes here, lorem blah blah..&ndash;&gt;-->
                                    <!--&lt;!&ndash;</div>&ndash;&gt;-->
                                <!--&lt;!&ndash;</div>&ndash;&gt;-->
                             <!--&lt;!&ndash;</div>&ndash;&gt;-->
                            <!--&lt;!&ndash;<div class="row span5">&ndash;&gt;-->
                                <!--&lt;!&ndash;<p>trim fabric</p>&ndash;&gt;-->
                                <!--&lt;!&ndash;<div class="top-border" name="option_trim_fabric_choice" data-toggle="buttons-checkbox">&ndash;&gt;-->
                                    <!--&lt;!&ndash;<div fabric-trim-panel selected-option="form[option.opt_name]"></div>&ndash;&gt;-->
                                    <!--&lt;!&ndash;<div>&ndash;&gt;-->
                                        <!--&lt;!&ndash;fabric description goes here, lorem blah blah..&ndash;&gt;-->
                                    <!--&lt;!&ndash;</div>&ndash;&gt;-->
                                <!--&lt;!&ndash;</div>&ndash;&gt;-->
                            <!--&lt;!&ndash;</div>&ndash;&gt;-->
                        <!--&lt;!&ndash;</pane>&ndash;&gt;-->
                    <!--</tabs>-->
                <!--</pane>-->

                <!--<pane heading="size selector">-->
                <!--</pane>-->
                <!--&lt;!&ndash;<pane heading="review my design">&ndash;&gt;-->
                    <!--&lt;!&ndash;Details of your personal {{design.longName}} design:&ndash;&gt;-->
                    <!--&lt;!&ndash;<ul>&ndash;&gt;-->
                        <!--&lt;!&ndash;<li ng-repeat="item in form">{{item.type|labelLookup}} in {{item.fabric|labelLookup}} fabric</li>&ndash;&gt;-->
                    <!--&lt;!&ndash;</ul>&ndash;&gt;-->
                <!--&lt;!&ndash;</pane>&ndash;&gt;-->
            <!--</tabs>-->


                        <!--<div class="tab-pane" id="tab-sizing">-->
                            <!--<div class="btn-group" data-toggle="buttons-checkbox">-->
                                <!--<legend>Choose a standard size:</legend>-->
                                <!--<select>-->
                                    <!--<option ng-repeat="size in range.sizes">Size {{size}}</option>-->
                                <!--</select>-->
                                <!--<legend>or custom measurements:</legend>-->
                                <!--todo - how do we enter these details?-->
                            <!--</div>-->
                        <!--</div>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        </div>
    </div>
    <div class="row">
        <!--<div class="span6 offset5" style="text-align: left">-->
            <!--<p>-->
                <!--<a class="btn" id="review-dress" data-toggle="modal" href="#reviewModal" onClick="_gaq.push(['_trackEvent', 'Design Build', 'review']);">Review my choices</a>-->
                <!--<button form="selection_form" ng-click="cancel()" ng-disabled="isCancelDisabled()" onClick="_gaq.push(['_trackEvent', 'Design Build', 'cancel']);">Cancel</button>&lt;!&ndash;<a class="btn" data-toggle="modal" href="#resetModal">Reset</a>&ndash;&gt;-->
                <!--<button form="selection_form" ng-click="save()" ng-disabled="isSaveDisabled()" onClick="_gaq.push(['_trackEvent', 'Design Build', 'save']);">Save</button>&lt;!&ndash;<a class="btn" id="save-dress" href="#">Add to bag &raquo;</a>&ndash;&gt;-->
            <!--</p>-->
        <!--</div>-->
    </div>
        <br/><br/><br/><br/><br/>
    <!--Debug View:-->
    <pre>form={{form}}</pre>
    <pre>option={{option}}</pre>
    <pre>options={{options}}</pre>

    <pre>master={{master}}</pre>
    <pre>category={{category}}</pre>
    <pre>design={{design}}</pre>
    <pre>range={{range}}</pre>
    </div>
</div> <!-- /designBuildView -->